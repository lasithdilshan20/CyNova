<!doctype html>
<html lang="en" data-theme="auto">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>CyNova Report (Custom Theme)</title>
    <style>
      {{{inlineCss}}}
      /* Custom overrides */
      :root {
        --primary: #ff00aa;
        --pass: #00d1b2;
        --fail: #ff3860;
        --bg: #0b0b12;
      }
      .cn-logo { filter: hue-rotate(60deg); }
    </style>
  </head>
  <body>
    <header class="cn-header glass">
      <div class="cn-brand">
        <div class="cn-logo">âœ¨</div>
        <div class="cn-title">
          <h1>CyNova â€¢ Custom</h1>
          <div class="cn-sub">Generated at {{generatedAt}}</div>
        </div>
      </div>
      <div class="cn-actions">
        <button id="themeToggle" class="btn neumorph" aria-label="Toggle theme">ðŸŒ“</button>
      </div>
    </header>

    <main class="cn-container">
      <section class="card glass">
        <header class="card-h"><h2>Summary</h2></header>
        <div class="card-b">
          <div class="summary-kpis">
            <div class="kpi"><div class="kpi-label">Tests</div><div class="kpi-value">{{totals.tests}}</div></div>
            <div class="kpi kpi-pass"><div class="kpi-label">Passed</div><div class="kpi-value">{{totals.passed}}</div></div>
            <div class="kpi kpi-fail"><div class="kpi-label">Failed</div><div class="kpi-value">{{totals.failed}}</div></div>
            <div class="kpi kpi-skip"><div class="kpi-label">Skipped</div><div class="kpi-value">{{totals.skipped}}</div></div>
            <div class="kpi"><div class="kpi-label">Duration</div><div class="kpi-value">{{totals.durationMs}} ms</div></div>
          </div>
          <canvas id="cn-summary-chart" height="120"></canvas>
        </div>
      </section>

      <section class="card glass">
        <header class="card-h"><h2>Specs</h2></header>
        <div class="card-b">
          {{#if specs}}
          <ul id="specList" class="spec-list">
            {{#each specs}}
            <li class="spec" data-spec="{{specRelative}}">
              <div class="spec-h">
                <div class="spec-name">{{specRelative}}</div>
                <div class="spec-meta">Tests: {{tests.length}} â€¢ Duration: {{durationMs}} ms</div>
              </div>
              <ul class="tests">
                {{#each tests}}
                <li class="test state-{{state}}" data-state="{{state}}" data-duration="{{wallClockDurationMs}}">
                  <div class="test-title">{{displayTitle}}</div>
                  <div class="test-state pill">{{state}}</div>
                </li>
                {{/each}}
              </ul>
            </li>
            {{/each}}
          </ul>
          {{else}}
          <p class="muted">No spec details available in this report.</p>
          {{/if}}
        </div>
      </section>
    </main>

    <footer class="cn-footer">
      <div>Custom theme â€¢ Generated by CyNova {{version}}</div>
    </footer>

    <script>{{{chartJs}}}</script>
    <script>window.__CYNOVA__ = {{json this}};</script>
    <script>{{{inlineJs}}}</script>
  </body>
</html>
